name: purl_matrix_tester
on:
  workflow_dispatch:
jobs:
  purl_matrix_tester:
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      max-parallel: 4  # Don't abuse purl.org
      matrix:
        purl_domain:
          - claussoft
          - AERO
          - AeroLectures
          - AircraftDesign
          - BV-NFC
          - CabinAir
          - Corona
          - EcoLabel
          - EWADE
          - HAW
          - INRMM-MiD
          - Novoa
          - ProfScholz
          - SCAD
          - TCAD
          - ArchOnto
    steps:
      - run: python3 -m pip install tqdm
      - run: python3 -m pip install internetarchive
      - run: curl --fail -X GET https://purl.org/${{ matrix.purl_domain }} || ia list ${{ matrix.purl_domain }}
